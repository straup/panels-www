(function(){var v,w,A;(function(){var g={},r={};v=function(h,c,e){g[h]={deps:c,callback:e}};A=w=function(h){function c(t){if(t.charAt(0)!==".")return t;t=t.split("/");for(var x=h.split("/").slice(0,-1),B=0,D=t.length;B<D;B++){var C=t[B];if(C==="..")x.pop();else C!=="."&&x.push(C)}return x.join("/")}A._eak_seen=g;if(r[h])return r[h];r[h]={};if(!g[h])throw Error("Could not find module "+h);var e=g[h],i=e.deps;e=e.callback;for(var n=[],k,l=0,s=i.length;l<s;l++)i[l]==="exports"?n.push(k={}):n.push(w(c(i[l])));
i=e.apply(this,n);return r[h]=k||i}})();v("promise/all",["./utils","exports"],function(g,r){var h=g.isArray,c=g.isFunction;r.all=function(e){if(!h(e))throw new TypeError("You must pass an array to all.");return new this(function(i,n){function k(B){return function(D){l[B]=D;--s===0&&i(l)}}var l=[],s=e.length,t;s===0&&i([]);for(var x=0;x<e.length;x++)if((t=e[x])&&c(t.then))t.then(k(x),n);else{l[x]=t;--s===0&&i(l)}})}});v("promise/asap",["exports"],function(g){function r(){return function(){process.nextTick(e)}}
function h(){var t=0,x=new n(e),B=document.createTextNode("");x.observe(B,{characterData:true});return function(){B.data=t=++t%2}}function c(){return function(){k.setTimeout(e,1)}}function e(){for(var t=0;t<l.length;t++){var x=l[t];x[0](x[1])}l=[]}var i=typeof window!=="undefined"?window:{},n=i.MutationObserver||i.WebKitMutationObserver,k=typeof global!=="undefined"?global:this===undefined?window:this,l=[],s;s=typeof process!=="undefined"&&{}.toString.call(process)==="[object process]"?r():n?h():
c();g.asap=function(t,x){l.push([t,x])===1&&s()}});v("promise/config",["exports"],function(g){var r={instrument:false};g.config=r;g.configure=function(h,c){if(arguments.length===2)r[h]=c;else return r[h]}});v("promise/polyfill",["./promise","./utils","exports"],function(g,r,h){var c=g.Promise,e=r.isFunction;h.polyfill=function(){var i;i=typeof global!=="undefined"?global:typeof window!=="undefined"&&window.document?window:self;if(!("Promise"in i&&"resolve"in i.Promise&&"reject"in i.Promise&&"all"in
i.Promise&&"race"in i.Promise&&function(){var n;new i.Promise(function(k){n=k});return e(n)}()))i.Promise=c}});v("promise/promise",["./config","./utils","./all","./race","./resolve","./reject","./asap","exports"],function(g,r,h,c,e,i,n,k){function l(f){if(!d(f))throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(!(this instanceof l))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");
this._subscribers=[];s(f,this)}function s(f,m){function u(y){C(m,y)}function p(y){F(m,y)}try{f(u,p)}catch(z){p(z)}}function t(f,m,u,p){var z=d(u),y,H,K,L;if(z)try{y=u(p);K=true}catch(M){L=true;H=M}else{y=p;K=true}if(!D(m,y))if(z&&K)C(m,y);else if(L)F(m,H);else if(f===j)C(m,y);else f===q&&F(m,y)}function x(f,m,u,p){f=f._subscribers;var z=f.length;f[z]=m;f[z+j]=u;f[z+q]=p}function B(f,m){for(var u,p,z=f._subscribers,y=f._detail,H=0;H<z.length;H+=3){u=z[H];p=z[H+m];t(m,u,p,y)}f._subscribers=null}function D(f,
m){var u=null,p;try{if(f===m)throw new TypeError("A promises callback cannot return that same promise.");if(b(m)){u=m.then;if(d(u)){u.call(m,function(y){if(p)return true;p=true;m!==y?C(f,y):G(f,y)},function(y){if(p)return true;p=true;F(f,y)});return true}}}catch(z){if(p)return true;F(f,z);return true}return false}function C(f,m){if(f===m)G(f,m);else D(f,m)||G(f,m)}function G(f,m){if(f._state===a){f._state=o;f._detail=m;E.async(I,f)}}function F(f,m){if(f._state===a){f._state=o;f._detail=m;E.async(J,
f)}}function I(f){B(f,f._state=j)}function J(f){B(f,f._state=q)}var E=g.config,b=r.objectOrFunction,d=r.isFunction;g=h.all;c=c.race;e=e.resolve;i=i.reject;E.async=n.asap;var a=void 0,o=0,j=1,q=2;l.prototype={constructor:l,_state:undefined,_detail:undefined,_subscribers:undefined,then:function(f,m){var u=this,p=new this.constructor(function(){});if(this._state){var z=arguments;E.async(function(){t(u._state,p,z[u._state-1],u._detail)})}else x(this,p,f,m);return p},"catch":function(f){return this.then(null,
f)}};l.all=g;l.race=c;l.resolve=e;l.reject=i;k.Promise=l});v("promise/race",["./utils","exports"],function(g,r){var h=g.isArray;r.race=function(c){if(!h(c))throw new TypeError("You must pass an array to race.");return new this(function(e,i){for(var n,k=0;k<c.length;k++)(n=c[k])&&typeof n.then==="function"?n.then(e,i):e(n)})}});v("promise/reject",["exports"],function(g){g.reject=function(r){return new this(function(h,c){c(r)})}});v("promise/resolve",["exports"],function(g){g.resolve=function(r){if(r&&
typeof r==="object"&&r.constructor===this)return r;return new this(function(h){h(r)})}});v("promise/utils",["exports"],function(g){function r(c){return typeof c==="function"}var h=Date.now||function(){return(new Date).getTime()};g.objectOrFunction=function(c){return r(c)||typeof c==="object"&&c!==null};g.isFunction=r;g.isArray=function(c){return Object.prototype.toString.call(c)==="[object Array]"};g.now=h});w("promise/polyfill").polyfill()})();
(function(){function v(c,e){if(c)return setTimeout(function(){return c(e)},0)}var w=typeof module!=="undefined"&&module.exports?require("promise"):this.Promise,A=null,g={},r=r||this.indexedDB||this.webkitIndexedDB||this.mozIndexedDB||this.OIndexedDB||this.msIndexedDB;if(r){var h={_driver:"asyncStorage",_initStorage:function(c){if(c)for(var e in c)g[e]=c[e];return new w(function(i,n){var k=r.open(g.name,g.version);k.onerror=function(){n(k.error)};k.onupgradeneeded=function(){k.result.createObjectStore(g.storeName)};
k.onsuccess=function(){A=k.result;i()}})},getItem:function(c,e){var i=this;return new w(function(n,k){i.ready().then(function(){var l=A.transaction(g.storeName,"readonly").objectStore(g.storeName).get(c);l.onsuccess=function(){var s=l.result;if(s===undefined)s=null;v(e,s);n(s)};l.onerror=function(){e&&e(null,l.error);k(l.error)}},k)})},setItem:function(c,e,i){var n=this;return new w(function(k,l){n.ready().then(function(){var s=A.transaction(g.storeName,"readwrite").objectStore(g.storeName);if(e===
null)e=undefined;var t=s.put(e,c);t.onsuccess=function(){if(e===undefined)e=null;v(i,e);k(e)};t.onerror=function(){i&&i(null,t.error);l(t.error)}},l)})},removeItem:function(c,e){var i=this;return new w(function(n,k){i.ready().then(function(){var l=A.transaction(g.storeName,"readwrite").objectStore(g.storeName)["delete"](c);l.onsuccess=function(){v(e);n()};l.onerror=function(){e&&e(l.error);k(l.error)};l.onabort=function(s){s=s.target.error;if(s==="QuotaExceededError"){e&&e(s);k(s)}}},k)})},clear:function(c){var e=
this;return new w(function(i,n){e.ready().then(function(){var k=A.transaction(g.storeName,"readwrite").objectStore(g.storeName).clear();k.onsuccess=function(){v(c);i()};k.onerror=function(){c&&c(null,k.error);n(k.error)}},n)})},length:function(c){var e=this;return new w(function(i,n){e.ready().then(function(){var k=A.transaction(g.storeName,"readonly").objectStore(g.storeName).count();k.onsuccess=function(){c&&c(k.result);i(k.result)};k.onerror=function(){c&&c(null,k.error);n(k.error)}},n)})},key:function(c,
e){var i=this;return new w(function(n,k){if(c<0){e&&e(null);n(null)}else i.ready().then(function(){var l=false,s=A.transaction(g.storeName,"readonly").objectStore(g.storeName).openCursor();s.onsuccess=function(){var t=s.result;if(t)if(c===0){e&&e(t.key);n(t.key)}else if(l){e&&e(t.key);n(t.key)}else{l=true;t.advance(c)}else{e&&e(null);n(null)}};s.onerror=function(){e&&e(null,s.error);k(s.error)}},k)})},keys:function(c){var e=this;return new w(function(i,n){e.ready().then(function(){var k=A.transaction(g.storeName,
"readonly").objectStore(g.storeName).openCursor(),l=[];k.onsuccess=function(){var s=k.result;if(s){l.push(s.key);s["continue"]()}else{c&&c(l);i(l)}};k.onerror=function(){c&&c(null,k.error);n(k.error)}},n)})}};if(typeof define==="function"&&define.amd)define("asyncStorage",function(){return h});else if(typeof module!=="undefined"&&module.exports)module.exports=h;else this.asyncStorage=h}}).call(this);
(function(){function v(b){if(b.substring(0,n)!==i)return JSON.parse(b);var d=b.substring(J);b=b.substring(n,J);for(var a=new ArrayBuffer(d.length*2),o=new Uint16Array(a),j=d.length-1;j>=0;j--)o[j]=d.charCodeAt(j);switch(b){case k:return a;case l:return new Blob([a]);case s:return new Int8Array(a);case t:return new Uint8Array(a);case x:return new Uint8ClampedArray(a);case B:return new Int16Array(a);case C:return new Uint16Array(a);case D:return new Int32Array(a);case G:return new Uint32Array(a);case F:return new Float32Array(a);
case I:return new Float64Array(a);default:throw Error("Unkown type: "+b);}}function w(b){var d="";b=new Uint16Array(b);try{d=String.fromCharCode.apply(null,b)}catch(a){for(var o=0;o<b.length;o++)d+=String.fromCharCode(b[o])}return d}function A(b,d){var a="";if(b)a=b.toString();if(b&&(b.toString()==="[object ArrayBuffer]"||b.buffer&&b.buffer.toString()==="[object ArrayBuffer]")){var o,j=i;if(b instanceof ArrayBuffer){o=b;j+=k}else{o=b.buffer;if(a==="[object Int8Array]")j+=s;else if(a==="[object Uint8Array]")j+=
t;else if(a==="[object Uint8ClampedArray]")j+=x;else if(a==="[object Int16Array]")j+=B;else if(a==="[object Uint16Array]")j+=C;else if(a==="[object Int32Array]")j+=D;else if(a==="[object Uint32Array]")j+=G;else if(a==="[object Float32Array]")j+=F;else if(a==="[object Float64Array]")j+=I;else d(Error("Failed to get type for BinaryArray"))}d(j+w(o))}else if(a==="[object Blob]"){a=new FileReader;a.onload=function(){var f=w(this.result);d(i+l+f)};a.readAsArrayBuffer(b)}else try{d(JSON.stringify(b))}catch(q){this.console&&
this.console.error&&this.console.error("Couldn't convert value into a JSON string: ",b);d(null,q)}}var g="",r={},h=typeof module!=="undefined"&&module.exports?require("promise"):this.Promise,c=null;try{if(!this.localStorage||!("setItem"in this.localStorage))return;c=this.localStorage}catch(e){return}var i="__lfsc__:",n=i.length,k="arbf",l="blob",s="si08",t="ui08",x="uic8",B="si16",D="si32",C="ur16",G="ui32",F="fl32",I="fl64",J=n+k.length,E={_driver:"localStorageWrapper",_initStorage:function(b){if(b)for(var d in b)r[d]=
b[d];g=r.name+"/";return h.resolve()},getItem:function(b,d){var a=this;return new h(function(o,j){a.ready().then(function(){try{var q=c.getItem(g+b);if(q)q=v(q);d&&d(q);o(q)}catch(f){d&&d(null,f);j(f)}},j)})},setItem:function(b,d,a){var o=this;return new h(function(j,q){o.ready().then(function(){if(d===undefined)d=null;var f=d;A(d,function(m,u){if(u){a&&a(null,u);q(u)}else{try{c.setItem(g+b,m)}catch(p){if(p.name==="QuotaExceededError"||p.name==="NS_ERROR_DOM_QUOTA_REACHED"){a&&a(null,p);q(p)}}a&&
a(f);j(f)}})},q)})},removeItem:function(b,d){var a=this;return new h(function(o,j){a.ready().then(function(){c.removeItem(g+b);d&&d();o()},j)})},clear:function(b){var d=this;return new h(function(a,o){d.ready().then(function(){c.clear();b&&b();a()},o)})},length:function(b){var d=this;return new h(function(a,o){d.ready().then(function(){var j=c.length;b&&b(j);a(j)},o)})},key:function(b,d){var a=this;return new h(function(o,j){a.ready().then(function(){var q;try{q=c.key(b)}catch(f){q=null}if(q)q=q.substring(g.length);
d&&d(q);o(q)},j)})},keys:function(b){var d=this;return new h(function(a,o){d.ready().then(function(){for(var j=c.length,q=[],f=0;f<j;f++)q.push(c.key(f).substring(g.length));b&&b(q);a(q)},o)})}};if(typeof define==="function"&&define.amd)define("localStorageWrapper",function(){return E});else if(typeof module!=="undefined"&&module.exports)module.exports=E;else this.localStorageWrapper=E}).call(this);
(function(){function v(b){b=new Uint8Array(b);var d,a="";for(d=0;d<b.length;d+=3){a+=g[b[d]>>2];a+=g[(b[d]&3)<<4|b[d+1]>>4];a+=g[(b[d+1]&15)<<2|b[d+2]>>6];a+=g[b[d+2]&63]}if(b.length%3===2)a=a.substring(0,a.length-1)+"=";else if(b.length%3===1)a=a.substring(0,a.length-2)+"==";return a}function w(b){if(b.substring(0,n)!==i)return JSON.parse(b);var d=b.substring(J);b=b.substring(n,J);var a=d.length*0.75,o=d.length,j=0,q,f,m,u;if(d[d.length-1]==="="){a--;d[d.length-2]==="="&&a--}var p=new ArrayBuffer(a),
z=new Uint8Array(p);for(a=0;a<o;a+=4){q=g.indexOf(d[a]);f=g.indexOf(d[a+1]);m=g.indexOf(d[a+2]);u=g.indexOf(d[a+3]);z[j++]=q<<2|f>>4;z[j++]=(f&15)<<4|m>>2;z[j++]=(m&3)<<6|u&63}switch(b){case k:return p;case l:return new Blob([p]);case s:return new Int8Array(p);case t:return new Uint8Array(p);case x:return new Uint8ClampedArray(p);case B:return new Int16Array(p);case C:return new Uint16Array(p);case D:return new Int32Array(p);case G:return new Uint32Array(p);case F:return new Float32Array(p);case I:return new Float64Array(p);
default:throw Error("Unkown type: "+b);}}function A(b,d){var a="";if(b)a=b.toString();if(b&&(b.toString()==="[object ArrayBuffer]"||b.buffer&&b.buffer.toString()==="[object ArrayBuffer]")){var o,j=i;if(b instanceof ArrayBuffer){o=b;j+=k}else{o=b.buffer;if(a==="[object Int8Array]")j+=s;else if(a==="[object Uint8Array]")j+=t;else if(a==="[object Uint8ClampedArray]")j+=x;else if(a==="[object Int16Array]")j+=B;else if(a==="[object Uint16Array]")j+=C;else if(a==="[object Int32Array]")j+=D;else if(a===
"[object Uint32Array]")j+=G;else if(a==="[object Float32Array]")j+=F;else if(a==="[object Float64Array]")j+=I;else d(Error("Failed to get type for BinaryArray"))}d(j+v(o))}else if(a==="[object Blob]"){a=new FileReader;a.onload=function(){var f=v(this.result);d(i+l+f)};a.readAsArrayBuffer(b)}else try{d(JSON.stringify(b))}catch(q){this.console&&this.console.error&&this.console.error("Couldn't convert value into a JSON string: ",b);d(null,q)}}var g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",
r=typeof module!=="undefined"&&module.exports?require("promise"):this.Promise,h=this.openDatabase,c=null,e={},i="__lfsc__:",n=i.length,k="arbf",l="blob",s="si08",t="ui08",x="uic8",B="si16",D="si32",C="ur16",G="ui32",F="fl32",I="fl64",J=n+k.length;if(h){var E={_driver:"webSQLStorage",_initStorage:function(b){var d=this;if(b)for(var a in b)e[a]=typeof b[a]!=="string"?b[a].toString():b[a];return new r(function(o,j){try{c=h(e.name,e.version,e.description,e.size)}catch(q){return d.setDriver("localStorageWrapper").then(o,
j)}c.transaction(function(f){f.executeSql("CREATE TABLE IF NOT EXISTS "+e.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],function(){o()},function(m,u){j(u)})})})},getItem:function(b,d){var a=this;return new r(function(o,j){a.ready().then(function(){c.transaction(function(q){q.executeSql("SELECT * FROM "+e.storeName+" WHERE key = ? LIMIT 1",[b],function(f,m){var u=m.rows.length?m.rows.item(0).value:null;if(u)u=w(u);d&&d(u);o(u)},function(f,m){d&&d(null,m);j(m)})})},j)})},setItem:function(b,
d,a){var o=this;return new r(function(j,q){o.ready().then(function(){if(d===undefined)d=null;var f=d;A(d,function(m,u){u?q(u):c.transaction(function(p){p.executeSql("INSERT OR REPLACE INTO "+e.storeName+" (key, value) VALUES (?, ?)",[b,m],function(){a&&a(f);j(f)},function(z,y){a&&a(null,y);q(y)})},function(p){if(p.code===p.QUOTA_ERR){a&&a(null,p);q(p)}})})},q)})},removeItem:function(b,d){var a=this;return new r(function(o,j){a.ready().then(function(){c.transaction(function(q){q.executeSql("DELETE FROM "+
e.storeName+" WHERE key = ?",[b],function(){d&&d();o()},function(f,m){d&&d(m);j(m)})})},j)})},clear:function(b){var d=this;return new r(function(a,o){d.ready().then(function(){c.transaction(function(j){j.executeSql("DELETE FROM "+e.storeName,[],function(){b&&b();a()},function(q,f){b&&b(f);o(f)})})},o)})},length:function(b){var d=this;return new r(function(a,o){d.ready().then(function(){c.transaction(function(j){j.executeSql("SELECT COUNT(key) as c FROM "+e.storeName,[],function(q,f){var m=f.rows.item(0).c;
b&&b(m);a(m)},function(q,f){b&&b(null,f);o(f)})})},o)})},key:function(b,d){var a=this;return new r(function(o,j){a.ready().then(function(){c.transaction(function(q){q.executeSql("SELECT key FROM "+e.storeName+" WHERE id = ? LIMIT 1",[b+1],function(f,m){var u=m.rows.length?m.rows.item(0).key:null;d&&d(u);o(u)},function(f,m){d&&d(null,m);j(m)})})},j)})},keys:function(b){var d=this;return new r(function(a,o){d.ready().then(function(){c.transaction(function(j){j.executeSql("SELECT key FROM "+e.storeName,
[],function(q,f){for(var m=f.rows.length,u=[],p=0;p<m;p++)u.push(f.rows.item(p).key);b&&b(u);a(u)},function(q,f){b&&b(null,f);o(f)})})},o)})}};if(typeof define==="function"&&define.amd)define("webSQLStorage",function(){return E});else if(typeof module!=="undefined"&&module.exports)module.exports=E;else this.webSQLStorage=E}}).call(this);
(function(){var v=typeof module!=="undefined"&&module.exports?require("promise"):this.Promise,w=3;if(typeof define==="function"&&define.amd)w=1;else if(typeof module!=="undefined"&&module.exports)w=2;var A=this,g={INDEXEDDB:"asyncStorage",LOCALSTORAGE:"localStorageWrapper",WEBSQL:"webSQLStorage",_config:{description:"",name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1},config:function(h){if(typeof h==="object"){if(this._ready)return Error("Can't call config() after localforage has been used.");
for(var c in h)this._config[c]=h[c];return true}else return typeof h==="string"?this._config[h]:this._config},driver:function(){return this._driver||null},_ready:false,_driverSet:null,setDriver:function(h,c,e){var i=this;if(!(Array.isArray||function(n){return Object.prototype.toString.call(n)==="[object Array]"})(h)&&typeof h==="string")h=[h];return this._driverSet=new v(function(n,k){var l=i._getFirstSupportedDriver(h);if(l){i._ready=null;if(w===1)require([l],function(t){i._extend(t);c&&c();n()});
else{if(w===2){var s;switch(l){case i.INDEXEDDB:s=require("./drivers/indexeddb");break;case i.LOCALSTORAGE:s=require("./drivers/localstorage");break;case i.WEBSQL:s=require("./drivers/websql")}i._extend(s)}else i._extend(A[l]);c&&c();n()}}else{l=Error("No available storage method found.");i._driverSet=v.reject(l);e&&e(l);k(l)}})},_getFirstSupportedDriver:function(h){if(h)for(var c=0;c<h.length;c++){var e=h[c];if(this.supports(e))return e}return null},supports:function(h){return!!r[h]},ready:function(h){var c=
new v(function(e,i){g._driverSet.then(function(){if(g._ready===null)g._ready=g._initStorage(g._config);g._ready.then(e,i)},i)});c.then(h,h);return c},_extend:function(h){for(var c in h)if(h.hasOwnProperty(c))this[c]=h[c]}},r=function(h){var c=c||h.indexedDB||h.webkitIndexedDB||h.mozIndexedDB||h.OIndexedDB||h.msIndexedDB,e={};e[g.WEBSQL]=!!h.openDatabase;e[g.INDEXEDDB]=!!(c&&typeof c.open==="function"&&c.open("_localforage_spec_test",1).onupgradeneeded===null);h=g.LOCALSTORAGE;var i;try{i=localStorage&&
typeof localStorage.setItem==="function"}catch(n){i=false}e[h]=!!i;return e}(this);g.setDriver([g.INDEXEDDB,g.WEBSQL,g.LOCALSTORAGE]);if(w===1)define(function(){return g});else if(w===2)module.exports=g;else this.localforage=g}).call(this);
